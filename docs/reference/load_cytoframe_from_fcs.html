<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read a single FCS file in to a cytoframe — load_cytoframe_from_fcs • flowWorkspace</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Read a single FCS file in to a cytoframe — load_cytoframe_from_fcs" />

<meta property="og:description" content="Similar to read.FCS, this takes a filename for a single
FCS file and returns a cytoframe." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flowWorkspace</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/HowToMergeGatingSet.html">How to merge/standardize GatingSets</a>
    </li>
    <li>
      <a href="../articles/flowWorkspace-Introduction.html">flowWorkspace Introduction: A Package to store and maninpulate gated flow data</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read a single FCS file in to a cytoframe</h1>
    
    <div class="hidden name"><code>load_cytoframe_from_fcs.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Similar to <code><a href='https://rdrr.io/pkg/flowCore/man/read.FCS.html'>read.FCS</a></code>, this takes a filename for a single
FCS file and returns a <code>cytoframe</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>load_cytoframe_from_fcs</span>(<span class='no'>filename</span>, <span class='kw'>transformation</span> <span class='kw'>=</span> <span class='st'>"linearize"</span>,
  <span class='kw'>which.lines</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>alter.names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>column.pattern</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>invert.pattern</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>decades</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>is_h5</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>h5_filename</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span>(<span class='kw'>fileext</span> <span class='kw'>=</span> <span class='st'>".h5"</span>), <span class='kw'>min.limit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>truncate_max_range</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>emptyValue</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>num_threads</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>ignore.text.offset</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>text.only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>filename</th>
      <td><p>Character of length 1: filename</p></td>
    </tr>
    <tr>
      <th>transformation</th>
      <td><p>An character string that defines the type of
transformation. Valid values are <code>linearize</code> (default),
<code>linearize-with-PnG-scaling</code>, or <code>scale</code>.  The <code>linearize</code>
transformation applies the appropriate power transform to the data. The
<code>linearize-with-PnG-scaling</code> transformation applies the appropriate
power transform for parameters stored on log scale, and also a linear
scaling transformation based on the 'gain' (FCS \$PnG keywords) for
parameters stored on a linear scale. The <code>scale</code> transformation scales
all columns to $[0,10^decades]$.  defaulting to decades=0 as in the FCS4
specification.  A logical can also be used: <code>TRUE</code> is equal to
<code>linearize</code> and <code>FALSE</code>(or <code>NULL</code>) corresponds to no
transformation.  Also when the transformation keyword of the FCS header is
set to "custom" or "applied", no transformation will be used.</p></td>
    </tr>
    <tr>
      <th>which.lines</th>
      <td><p>Numeric vector to specify the indices of the lines to be
read. If NULL all the records are read, if of length 1, a random sample of
the size indicated by <code>which.lines</code> is read in.</p></td>
    </tr>
    <tr>
      <th>alter.names</th>
      <td><p>boolean indicating whether or not we should rename the
columns to valid R names using <code><a href='https://rdrr.io/r/base/make.names.html'>make.names</a></code>. The default is
FALSE.</p></td>
    </tr>
    <tr>
      <th>column.pattern</th>
      <td><p>An optional regular expression defining parameters we
should keep when loading the file. The default is NULL.</p></td>
    </tr>
    <tr>
      <th>invert.pattern</th>
      <td><p>logical. By default, <code>FALSE</code>. If <code>TRUE</code>,
inverts the regular expression specified in <code>column.pattern</code>. This is
useful for indicating the channel names that we do not want to read. If
<code>column.pattern</code> is set to <code>NULL</code>, this argument is ignored.</p></td>
    </tr>
    <tr>
      <th>decades</th>
      <td><p>When scaling is activated, the number of decades to use for
the output.</p></td>
    </tr>
    <tr>
      <th>is_h5</th>
      <td><p>Boolean indicating whether the data should be stored in h5 format</p></td>
    </tr>
    <tr>
      <th>h5_filename</th>
      <td><p>String specifying a name for the h5 file if <code>is_h5</code> is TRUE</p></td>
    </tr>
    <tr>
      <th>min.limit</th>
      <td><p>The minimum value in the data range that is allowed. Some
instruments produce extreme artifactual values. The positive data range for
each parameter is completely defined by the measurement range of the
instrument and all larger values are set to this threshold. The lower data
boundary is not that well defined, since compensation might shift some
values below the original measurement range of the instrument. This can be 
set to an arbitrary number or to <code>NULL</code> (the default value), in which 
case the original values are kept.</p></td>
    </tr>
    <tr>
      <th>truncate_max_range</th>
      <td><p>logical type. Default is TRUE. can be optionally
turned off to avoid truncating the extreme positive value to the instrument
measurement range .i.e.'$PnR'.</p></td>
    </tr>
    <tr>
      <th>dataset</th>
      <td><p>The FCS file specification allows for multiple data segments
in a single file. Since the output of <code>load_cytoframe_from_cytoset</code> is a single
<code>cytoframe</code> we can't automatically read in all available sets. This
parameter allows to chose one of the subsets for import. Its value is
supposed to be an integer in the range of available data sets. This argument
is ignored if there is only a single data segment in the FCS file.</p></td>
    </tr>
    <tr>
      <th>emptyValue</th>
      <td><p>Boolean indicating whether or not we allow empty value for
keyword values in TEXT segment.  It affects how the double delimiters are
treated.  IF TRUE, The double delimiters are parsed as a pair of start and
end single delimiter for an empty value.  Otherwise, double delimiters are
parsed one part of string as the keyword value.  default is TRUE.</p></td>
    </tr>
    <tr>
      <th>num_threads</th>
      <td><p>Integer allowing for parallelization of the parsing
operation by specifiying a number of threads</p></td>
    </tr>
    <tr>
      <th>ignore.text.offset</th>
      <td><p>Whether to ignore the keyword values in TEXT
segment when they don't agree with the HEADER.  Default is FALSE, which
throws the error when such discrepancy is found.  User can turn it on to
ignore TEXT segment when he is sure of the accuracy of HEADER so that the
file still can be read.</p></td>
    </tr>
    <tr>
      <th>files</th>
      <td><p>A vector of filenames</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments that get passed on to
<code><a href='https://rdrr.io/pkg/Biobase/man/read.AnnotatedDataFrame.html'>read.AnnotatedDataFrame</a></code>, see details</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class
<code><a href='cytoframe.html'>cytoframe</a></code> that contains the data, the parameters monitored, 
and the keywords and values saved in the header of the FCS file.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function <code>load_cytoframe_from_fcs</code> works with the output of the FACS machine
software from a number of vendors (FCS 2.0, FCS 3.0 and List Mode Data LMD).
However, the FCS 3.0 standard includes some options that are not yet
implemented in this function. If you need extensions, please let me know.
The output of the function is an object of class <code>cytoframe</code>.</p>
<p>For specifications of FCS 3.0 see <a href='http://www.isac-net.org'>http://www.isac-net.org</a> and the file
<a href='../doc/fcs3.html'>../doc/fcs3.html</a> in the <code>doc</code> directory of the package.</p>
<p>The <code>which.lines</code> arguments allow you to read a subset of the record as
you might not want to read the thousands of events recorded in the FCS file.
It is mainly used when there is not enough memory to read one single FCS
(which probably will not happen).  It will probably take more time than
reading the entire FCS (due to the multiple disk IO).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other cytoframe/cytoset IO functions: <code><a href='cf_get_h5_file_path.html'>cf_get_h5_file_path</a></code>,
  <code><a href='cf_write_h5.html'>cf_write_h5</a></code>,
  <code><a href='cs_get_h5_file_path.html'>cs_get_h5_file_path</a></code>,
  <code><a href='load_cytoframe_from_h5.html'>load_cytoframe_from_h5</a></code>,
  <code><a href='load_cytoset_from_fcs.html'>load_cytoset_from_fcs</a></code></p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Greg Finak,Mike Jiang <wjiang2@fhcrc.org>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


